---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import MenuSection from '../components/MenuSection.astro';
import CTASection from '../components/CTASection.astro';
import menuData from '../data/menu.json';

const categories = menuData.categories;
---

<Layout 
  title="Menu"
  description="Explore LaLa Cafe's full menu - breakfast, brunch, lunch, dinner, coffee, desserts, and bar drinks. Serving Parnell, Auckland from 7am to 9pm daily."
>
  <Header />
  
  <main>
    <!-- Page Hero -->
    <section class="bg-lala-black py-20 relative overflow-hidden">
      <div class="absolute inset-0 opacity-20">
        <img 
          src="/images/food-4.jpg"
          alt="LaLa Cafe food"
          class="w-full h-full object-cover"
        />
      </div>
      <div class="absolute inset-0 bg-gradient-to-b from-lala-black via-lala-black/90 to-lala-black"></div>
      
      <div class="section-container relative z-10 text-center">
        <span class="text-lala-orange font-display font-semibold text-lg">Explore</span>
        <h1 class="text-lala-offwhite mt-2 mb-6">Our Menu</h1>
        <p class="text-gray-400 text-xl max-w-2xl mx-auto">
          From your morning flat white to evening cocktails, we've got something delicious for every moment of your day.
        </p>
      </div>
    </section>

    <!-- Category Navigation -->
    <nav class="sticky top-20 md:top-24 z-40 bg-lala-cream border-b border-gray-200 shadow-sm">
      <div class="section-container">
        <div class="flex overflow-x-auto py-4 gap-2 scrollbar-hide">
          {categories.map((category) => (
            <a 
              href={`#${category.id}`}
              class="flex-shrink-0 px-4 py-2 bg-white rounded-full font-display font-medium text-sm text-lala-charcoal hover:bg-lala-orange hover:text-white transition-all duration-300 border border-gray-200 hover:border-lala-orange"
            >
              {category.name}
            </a>
          ))}
        </div>
      </div>
    </nav>

    <!-- Menu Sections -->
    <section class="py-16 bg-lala-cream">
      <div class="section-container">
        <div class="max-w-4xl mx-auto space-y-16">
          {categories.map((category) => (
            <MenuSection 
              id={category.id}
              name={category.name}
              description={category.description}
              items={category.items}
            />
          ))}
        </div>

        <!-- Dietary Note -->
        <div class="max-w-4xl mx-auto mt-16 p-6 bg-white rounded-2xl border border-gray-200">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-lala-orange/10 rounded-xl flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-lala-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <div>
              <h4 class="font-display font-semibold text-lala-charcoal mb-2">Dietary Requirements</h4>
              <p class="text-gray-600 text-sm leading-relaxed">
                Please inform our staff of any dietary requirements or allergies when ordering. 
                We're happy to accommodate vegetarian, vegan, gluten-free, and other dietary needs where possible. 
                All prices are in New Zealand Dollars and include GST.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <CTASection 
      title="Hungry Yet?"
      subtitle="Come visit us in Parnell and experience our menu for yourself."
    />
  </main>

  <Footer />
</Layout>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
